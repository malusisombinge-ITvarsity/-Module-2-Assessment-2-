define(["nostojs","jquery","catalogAddToCart"],(function(t,e){"use strict";var r=e("#nosto_addtocart_form").catalogAddToCart({processStart:"addToCartStart",processStop:"addToCartStop"}),o={addProductToCart:function(t,e,r){var d={productId:t,skuId:t};r=r||1,o.addSkuToCart(d,e,r)},addMultipleProductsToCart:function(t,e){if(Array.isArray(t))t.forEach((function(t){o.addSkuToCart(t,e,1)}))},addSkuToCart:function(e,o,d){var a,n;if(d=d||1,"object"==typeof o&&o)if(n=this.resolveContextSlotId(o))t((function(t){t.recommendedProductAddedToCart(e.productId,n)}));r.find('input[name="product"]').val(e.productId),(a=document.createElement("input")).setAttribute("type","hidden"),a.setAttribute("name","sku"),a.setAttribute("value",e.skuId),r.append(a),r.find('input[name="qty"]').val(d),r.catalogAddToCart("ajaxSubmit",r)},resolveContextSlotId:function(t){for(var e=0,r=t;void 0!==r.parentElement&&r.parentElement;){if(++e,"nosto_element"===(r=r.parentElement).getAttribute("class")&&r.getAttribute("id"))return r.getAttribute("id");if(e>=20)return!1}return!1}};return o}));